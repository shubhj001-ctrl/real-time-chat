<!DOCTYPE html>
<html lang="en">
<head>
  <title>Veyon</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>
<!-- LOADING SCREEN -->
<div id="loading-screen">
  <div class="loading-box">
    <div id="loading-text">
    Your <span id="loading-word"></span> is loading</div>
  </div>
</div>

<!-- MESSAGE CONTEXT MENU -->
<div id="message-menu" class="message-menu hidden">
  <button class="menu-item" data-action="react">ğŸ˜Š React</button>
  <button class="menu-item" data-action="reply">â†©ï¸ Reply</button>
  <button class="menu-item" data-action="copy">ğŸ“‹ Copy</button>
</div>

<!-- REACTION PICKER -->
<div id="reaction-picker" class="reaction-picker hidden">
  <button class="reaction-emoji" data-emoji="ğŸ˜Š">ğŸ˜Š</button>
  <button class="reaction-emoji" data-emoji="â¤ï¸">â¤ï¸</button>
  <button class="reaction-emoji" data-emoji="ğŸ˜‚">ğŸ˜‚</button>
  <button class="reaction-emoji" data-emoji="ğŸ”¥">ğŸ”¥</button>
  <button class="reaction-emoji" data-emoji="ğŸ‘">ğŸ‘</button>
  <button class="reaction-emoji" data-emoji="ğŸ‘">ğŸ‘</button>
  <button class="reaction-emoji" data-emoji="ğŸ˜¢">ğŸ˜¢</button>
  <button class="reaction-emoji" data-emoji="ğŸ‰">ğŸ‰</button>
</div>

<!-- LOGIN SCREEN -->
<div id="login-screen">
  <div class="login-box">
    <h2>Veyon</h2>
    <p class="dev-note">
      We are currently in development stage, so registration is disabled.
      <br><br>
      If you want to test the platform, mail us at
      <strong>connect.getveyon@gmail.com</strong>
    </p>

    <input id="login-username" placeholder="Username" autocomplete="off">
    <input id="login-password" type="password" placeholder="Password" autocomplete="off">

    <button id="login-btn">Login</button>

    <p id="login-error" class="error hidden">
      You donâ€™t have access to this portal.
    </p>
  </div>
</div>

<!-- APP -->
<div id="app" class="hidden">

  <aside class="sidebar">
    <div class="sidebar-header">
      <h2>Veyon</h2>
    </div>

    <div class="sidebar-search">
      <input 
        type="text" 
        id="user-search" 
        placeholder="Search users..."
        class="search-input"
      />
    </div>

    <div class="user-list" id="user-list"></div>

    <button id="logout-btn" class="logout-btn-bottom">ğŸšª Logout</button>
  </aside>

  <main class="chat-area">
<header class="chat-header">
  <button id="back-btn" class="mobile-only">â†</button>

  <div class="chat-header-user">
    <div class="chat-avatar">
      <span id="chat-avatar-letter">?</span>
    </div>

    <div class="chat-user-meta">
      <div id="chat-title" class="chat-username">Select a chat</div>
      <div id="chat-system-time" class="chat-system-time"></div>
    </div>
  </div>
</header>

  <div id="empty-chat" class="empty-chat">
    Select a chat to start messaging
  </div>

  <div class="chat-messages" id="chat-box">
    <div id="typing-bubble" class="typing-bubble hidden">
      <span class="dot"></span>
      <span class="dot"></span>
      <span class="dot"></span>
    </div>
  </div>

<footer class="chat-input hidden" id="chat-footer">

  <!-- Reply preview -->
  <div id="reply-preview" class="reply-preview hidden">
    <div class="reply-line"></div>
    <div class="reply-content">
      <span id="reply-user"></span>
      <span id="reply-text"></span>
    </div>
    <button id="cancel-reply">âœ•</button>
  </div>

  <!-- Media preview before sending -->
<div id="media-preview" class="media-preview hidden">
  <img id="media-preview-img" />
  <button id="remove-media">âœ•</button>
</div>


  <!-- Input row -->
  <div class="chat-input-row">
    <button id="media-btn" class="icon-btn media-btn-custom">
      <svg class="upload-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
        <polyline points="17 8 12 3 7 8"></polyline>
        <line x1="12" y1="3" x2="12" y2="15"></line>
      </svg>
    </button>

    <input
      id="message-input"
      placeholder="Type a message"
      disabled
    />

    <button id="send-btn" class="send-btn">â¤</button>
  </div>

  <input
    type="file"
    id="media-input"
    accept="image/*,video/*"
    hidden
  />
</footer>


</main>

</div>

<script src="/socket.io/socket.io.js"></script>
<script src="script.js"></script>

<!-- IMAGE PREVIEW OVERLAY -->
<div id="image-preview-overlay" class="image-preview-overlay hidden">
  <button class="image-preview-close" id="image-preview-close">âœ•</button>
  <img id="image-preview-img" />
</div>

</body>
</html>
